crystal_doc_search_index_callback({"repository_name":"glassy-kernel","body":"# glassy-kernel\n\nTODO: Write a description here\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     glassy-kernel:\n       github: your-github-user/glassy-kernel\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"glassy-kernel\"\n```\n\nTODO: Write usage instructions here\n\n## Development\n\nTODO: Write development instructions here\n\n## Contributing\n\n1. Fork it (<https://github.com/your-github-user/glassy-kernel/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [your-name-here](https://github.com/your-github-user) - creator and maintainer\n","program":{"html_id":"glassy-kernel/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"glassy-kernel","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"glassy-kernel/Glassy","path":"Glassy.html","kind":"module","full_name":"Glassy","name":"Glassy","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/glassy-kernel/container.cr","line_number":1,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/container.cr#L1"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"glassy-kernel/Glassy/Kernel","path":"Glassy/Kernel.html","kind":"module","full_name":"Glassy::Kernel","name":"Kernel","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/glassy-kernel.cr","line_number":3,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel.cr#L3"},{"filename":"src/glassy-kernel/bundle.cr","line_number":3,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/bundle.cr#L3"},{"filename":"src/glassy-kernel/container.cr","line_number":1,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/container.cr#L1"},{"filename":"src/glassy-kernel/kernel.cr","line_number":4,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/kernel.cr#L4"},{"filename":"src/glassy-kernel/service_yaml_parser.cr","line_number":4,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser.cr#L4"},{"filename":"src/glassy-kernel/service_yaml_parser/service_definition.cr","line_number":3,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L3"},{"filename":"src/glassy-kernel/service_yaml_parser/tag_definition.cr","line_number":3,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/tag_definition.cr#L3"},{"filename":"src/glassy-kernel/service_yaml_parser/yaml_file.cr","line_number":5,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L5"},{"filename":"src/glassy-kernel/yaml_merger.cr","line_number":3,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/yaml_merger.cr#L3"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.1.0\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy","kind":"module","full_name":"Glassy","name":"Glassy"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"glassy-kernel/Glassy/Kernel/Bundle","path":"Glassy/Kernel/Bundle.html","kind":"class","full_name":"Glassy::Kernel::Bundle","name":"Bundle","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/bundle.cr","line_number":4,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/bundle.cr#L4"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel","kind":"module","full_name":"Glassy::Kernel","name":"Kernel"},"doc":null,"summary":null,"class_methods":[{"id":"get_service_path-class-method","html_id":"get_service_path-class-method","name":"get_service_path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/bundle.cr#L5","def":{"name":"get_service_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return \"debug (do not return this)\""}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"glassy-kernel/Glassy/Kernel/Container","path":"Glassy/Kernel/Container.html","kind":"class","full_name":"Glassy::Kernel::Container","name":"Container","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/container.cr","line_number":2,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/container.cr#L2"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel","kind":"module","full_name":"Glassy::Kernel","name":"Kernel"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"load_service_paths(service_paths)-macro","html_id":"load_service_paths(service_paths)-macro","name":"load_service_paths","doc":null,"summary":null,"abstract":false,"args":[{"name":"service_paths","doc":null,"default_value":"","external_name":"service_paths","restriction":""}],"args_string":"(service_paths)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/container.cr#L3","def":{"name":"load_service_paths","args":[{"name":"service_paths","doc":null,"default_value":"","external_name":"service_paths","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      \n{{ run(\"/home/anderson/Workspace/personal/glassy-framework/glassy-kernel/src/glassy-kernel/generate_container\", service_paths.map do |s|\n  s.resolve\nend.join('|')) }}\n\n    \n"}}],"types":[]},{"html_id":"glassy-kernel/Glassy/Kernel/Kernel","path":"Glassy/Kernel/Kernel.html","kind":"class","full_name":"Glassy::Kernel::Kernel","name":"Kernel","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/kernel.cr","line_number":5,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/kernel.cr#L5"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel","kind":"module","full_name":"Glassy::Kernel","name":"Kernel"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"register_bundles(bundles)-macro","html_id":"register_bundles(bundles)-macro","name":"register_bundles","doc":null,"summary":null,"abstract":false,"args":[{"name":"bundles","doc":null,"default_value":"","external_name":"bundles","restriction":""}],"args_string":"(bundles)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/kernel.cr#L6","def":{"name":"register_bundles","args":[{"name":"bundles","doc":null,"default_value":"","external_name":"bundles","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      def initialize\n        @container = Container.new\n      \nend\n\n      def container\n        @container\n      \nend\n\n      class Container < Glassy::Kernel::Container\n        load_service_paths([\n          \n{% for bundle in bundles %}\n            {{ bundle.resolve.id }}::SERVICES_PATH,\n          {% end %}\n\n        ])\n      \nend\n    \n"}}],"types":[]},{"html_id":"glassy-kernel/Glassy/Kernel/ServiceYamlParser","path":"Glassy/Kernel/ServiceYamlParser.html","kind":"class","full_name":"Glassy::Kernel::ServiceYamlParser","name":"ServiceYamlParser","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/service_yaml_parser.cr","line_number":5,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser.cr#L5"},{"filename":"src/glassy-kernel/service_yaml_parser/service_definition.cr","line_number":4,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L4"},{"filename":"src/glassy-kernel/service_yaml_parser/tag_definition.cr","line_number":4,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/tag_definition.cr#L4"},{"filename":"src/glassy-kernel/service_yaml_parser/yaml_file.cr","line_number":6,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L6"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel","kind":"module","full_name":"Glassy::Kernel","name":"Kernel"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(content_text:String)-class-method","html_id":"new(content_text:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"content_text","doc":null,"default_value":"","external_name":"content_text","restriction":"String"}],"args_string":"(content_text : String)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser.cr#L6","def":{"name":"new","args":[{"name":"content_text","doc":null,"default_value":"","external_name":"content_text","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(content_text)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"make_code-instance-method","html_id":"make_code-instance-method","name":"make_code","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser.cr#L9","def":{"name":"make_code","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"yaml_file = YamlFile.from_yaml(@content_text)\nresult = \"\"\ngetters_by_tag = {} of String => Array(String)\nyaml_file.services.each do |name, service_def|\n  getter_name = \"#{name}\"\n  result = result + \"def #{getter_name}\\n\"\n  result = result + \"  @#{name} ||= #{service_def.klass}.new\"\n  kwargs = service_def.kwargs\n  if kwargs\n    result = result + \"(\\n\"\n    kwargs.each do |arg_name, arg_value|\n      if arg_value.starts_with?(\"@\")\n        arg_value = arg_value.sub(\"@\", \"\")\n      else\n        arg_value = \"\\\"#{arg_value}\\\"\"\n      end\n      result = result + \"    #{arg_name}: #{arg_value},\\n\"\n    end\n    result = result + \"  )\\n\"\n  else\n    result = result + \"\\n\"\n  end\n  result = result + \"end\\n\"\n  tags = service_def.tag\n  if tags.is_a?(Array)\n    tags.each do |tag|\n      if getters_by_tag.has_key?(tag)\n      else\n        getters_by_tag[tag] = [] of String\n      end\n      getters_by_tag[tag] << getter_name\n    end\n  end\n  result = result + \"\\n\"\nend\ntags = yaml_file.tags\nif tags\n  tags.each do |name, definition|\n    getters = getters_by_tag.fetch(name, nil)\n    if getters.nil?\n      getters = [] of String\n    end\n    result = result + \"def #{name}_list : Array(#{definition.restriction})\\n\"\n    result = result + \"  [#{getters.join(\", \")}] of #{definition.restriction}\\n\"\n    result = result + \"end\\n\"\n    result = result + \"\\n\"\n  end\nend\nresult\n"}}],"macros":[],"types":[{"html_id":"glassy-kernel/Glassy/Kernel/ServiceYamlParser/ServiceDefinition","path":"Glassy/Kernel/ServiceYamlParser/ServiceDefinition.html","kind":"class","full_name":"Glassy::Kernel::ServiceYamlParser::ServiceDefinition","name":"ServiceDefinition","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"},{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/service_yaml_parser/service_definition.cr","line_number":5,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L5"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"glassy-kernel/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel/ServiceYamlParser","kind":"class","full_name":"Glassy::Kernel::ServiceYamlParser","name":"ServiceYamlParser"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","html_id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"ctx","doc":null,"default_value":"","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"YAML::Nodes::Node"}],"args_string":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L6","def":{"name":"new","args":[{"name":"ctx","doc":null,"default_value":"","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"YAML::Nodes::Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_from_yaml_node(ctx, node)"}}],"instance_methods":[{"id":"klass:String-instance-method","html_id":"klass:String-instance-method","name":"klass","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L9","def":{"name":"klass","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@klass"}},{"id":"klass=(klass:String)-instance-method","html_id":"klass=(klass:String)-instance-method","name":"klass=","doc":null,"summary":null,"abstract":false,"args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"String"}],"args_string":"(klass : String)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L9","def":{"name":"klass=","args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@klass = klass"}},{"id":"kwargs:Hash(String,String)?-instance-method","html_id":"kwargs:Hash(String,String)?-instance-method","name":"kwargs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)?","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L13","def":{"name":"kwargs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, String) | ::Nil","visibility":"Public","body":"@kwargs"}},{"id":"kwargs=(kwargs:Hash(String,String)?)-instance-method","html_id":"kwargs=(kwargs:Hash(String,String)?)-instance-method","name":"kwargs=","doc":null,"summary":null,"abstract":false,"args":[{"name":"kwargs","doc":null,"default_value":"","external_name":"kwargs","restriction":"Hash(String, String) | ::Nil"}],"args_string":"(kwargs : Hash(String, String)?)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L13","def":{"name":"kwargs=","args":[{"name":"kwargs","doc":null,"default_value":"","external_name":"kwargs","restriction":"Hash(String, String) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@kwargs = kwargs"}},{"id":"tag:Array(String)?-instance-method","html_id":"tag:Array(String)?-instance-method","name":"tag","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)?","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L11","def":{"name":"tag","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String) | ::Nil","visibility":"Public","body":"@tag"}},{"id":"tag=(tag:Array(String)?)-instance-method","html_id":"tag=(tag:Array(String)?)-instance-method","name":"tag=","doc":null,"summary":null,"abstract":false,"args":[{"name":"tag","doc":null,"default_value":"","external_name":"tag","restriction":"Array(String) | ::Nil"}],"args_string":"(tag : Array(String)?)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/service_definition.cr#L11","def":{"name":"tag=","args":[{"name":"tag","doc":null,"default_value":"","external_name":"tag","restriction":"Array(String) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tag = tag"}}],"macros":[],"types":[]},{"html_id":"glassy-kernel/Glassy/Kernel/ServiceYamlParser/TagDefinition","path":"Glassy/Kernel/ServiceYamlParser/TagDefinition.html","kind":"class","full_name":"Glassy::Kernel::ServiceYamlParser::TagDefinition","name":"TagDefinition","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"},{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/service_yaml_parser/tag_definition.cr","line_number":5,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/tag_definition.cr#L5"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"glassy-kernel/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel/ServiceYamlParser","kind":"class","full_name":"Glassy::Kernel::ServiceYamlParser","name":"ServiceYamlParser"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","html_id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"ctx","doc":null,"default_value":"","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"YAML::Nodes::Node"}],"args_string":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/tag_definition.cr#L6","def":{"name":"new","args":[{"name":"ctx","doc":null,"default_value":"","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"YAML::Nodes::Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_from_yaml_node(ctx, node)"}}],"instance_methods":[{"id":"restriction:String-instance-method","html_id":"restriction:String-instance-method","name":"restriction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/tag_definition.cr#L8","def":{"name":"restriction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@restriction"}},{"id":"restriction=(restriction:String)-instance-method","html_id":"restriction=(restriction:String)-instance-method","name":"restriction=","doc":null,"summary":null,"abstract":false,"args":[{"name":"restriction","doc":null,"default_value":"","external_name":"restriction","restriction":"String"}],"args_string":"(restriction : String)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/tag_definition.cr#L8","def":{"name":"restriction=","args":[{"name":"restriction","doc":null,"default_value":"","external_name":"restriction","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@restriction = restriction"}}],"macros":[],"types":[]},{"html_id":"glassy-kernel/Glassy/Kernel/ServiceYamlParser/YamlFile","path":"Glassy/Kernel/ServiceYamlParser/YamlFile.html","kind":"class","full_name":"Glassy::Kernel::ServiceYamlParser::YamlFile","name":"YamlFile","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"},{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/service_yaml_parser/yaml_file.cr","line_number":7,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L7"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"glassy-kernel/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel/ServiceYamlParser","kind":"class","full_name":"Glassy::Kernel::ServiceYamlParser","name":"ServiceYamlParser"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","html_id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"ctx","doc":null,"default_value":"","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"YAML::Nodes::Node"}],"args_string":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L8","def":{"name":"new","args":[{"name":"ctx","doc":null,"default_value":"","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"YAML::Nodes::Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_from_yaml_node(ctx, node)"}}],"instance_methods":[{"id":"services:Hash(String,ServiceDefinition)-instance-method","html_id":"services:Hash(String,ServiceDefinition)-instance-method","name":"services","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, ServiceDefinition)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L10","def":{"name":"services","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ServiceDefinition)","visibility":"Public","body":"@services"}},{"id":"services=(services:Hash(String,ServiceDefinition))-instance-method","html_id":"services=(services:Hash(String,ServiceDefinition))-instance-method","name":"services=","doc":null,"summary":null,"abstract":false,"args":[{"name":"services","doc":null,"default_value":"","external_name":"services","restriction":"Hash(String, ServiceDefinition)"}],"args_string":"(services : Hash(String, ServiceDefinition))","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L10","def":{"name":"services=","args":[{"name":"services","doc":null,"default_value":"","external_name":"services","restriction":"Hash(String, ServiceDefinition)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@services = services"}},{"id":"tags:Hash(String,TagDefinition)?-instance-method","html_id":"tags:Hash(String,TagDefinition)?-instance-method","name":"tags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, TagDefinition)?","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L12","def":{"name":"tags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, TagDefinition) | ::Nil","visibility":"Public","body":"@tags"}},{"id":"tags=(tags:Hash(String,TagDefinition)?)-instance-method","html_id":"tags=(tags:Hash(String,TagDefinition)?)-instance-method","name":"tags=","doc":null,"summary":null,"abstract":false,"args":[{"name":"tags","doc":null,"default_value":"","external_name":"tags","restriction":"Hash(String, TagDefinition) | ::Nil"}],"args_string":"(tags : Hash(String, TagDefinition)?)","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/service_yaml_parser/yaml_file.cr#L12","def":{"name":"tags=","args":[{"name":"tags","doc":null,"default_value":"","external_name":"tags","restriction":"Hash(String, TagDefinition) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tags = tags"}}],"macros":[],"types":[]}]},{"html_id":"glassy-kernel/Glassy/Kernel/YamlMerger","path":"Glassy/Kernel/YamlMerger.html","kind":"class","full_name":"Glassy::Kernel::YamlMerger","name":"YamlMerger","abstract":false,"superclass":{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"glassy-kernel/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"glassy-kernel/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/glassy-kernel/yaml_merger.cr","line_number":4,"url":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/yaml_merger.cr#L4"}],"repository_name":"glassy-kernel","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"glassy-kernel/Glassy/Kernel","kind":"module","full_name":"Glassy::Kernel","name":"Kernel"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(contents:Array(String))-class-method","html_id":"new(contents:Array(String))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"contents","doc":null,"default_value":"","external_name":"contents","restriction":"Array(String)"}],"args_string":"(contents : Array(String))","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/yaml_merger.cr#L5","def":{"name":"new","args":[{"name":"contents","doc":null,"default_value":"","external_name":"contents","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(contents)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"merge:String-instance-method","html_id":"merge:String-instance-method","name":"merge","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/glassy-framework/glassy-kernel/blob/34c9676af6c3e28bc026edff92548f70bce58846/src/glassy-kernel/yaml_merger.cr#L8","def":{"name":"merge","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"first_content = @contents.shift\ndata = YAML.parse(first_content)\ndata_raw = data.raw\n@contents.each do |content|\n  other_data = YAML.parse(content)\n  other_data_raw = other_data.raw\n  if data_raw.is_a?(Hash) && other_data_raw.is_a?(Hash)\n    merge_two_hashes(data_raw, other_data_raw)\n  end\nend\nYAML.dump(data)\n"}}],"macros":[],"types":[]}]}]}]}})